<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<button id="openWin" onclick="openCloseWin()">Open window</button>
<button onclick="showUserAgent()">Show my User Agent</button>
<div >
</div>
<a href="https://example.com">Visit Example</a>
<button>Cancel Change</button>
<button>Cancel title Change</button>
<button onclick="askConfirm()">Ask User</button>
<ul>
    <li>Apple</li>
    <li>Banana</li>
    <li>Orange</li>
</ul>
<div>
 HI
 <p>hi there</p>
</div>
<form name="myForm">
    <input type="text" name="username" value="kareem">
    <input type="password" name="password" value="1234">
    <input type="email" name="email" value="kareem@example.com">
</form>
<img src="https://via.placeholder.com/100" alt="img1">
<img src="https://via.placeholder.com/150" alt="img2">
<img src="https://via.placeholder.com/200" alt="img3">





<!-- 1. Open a new window with a specific URL and size, then close it after 3 seconds using JavaScript. -->
<script>
function openCloseWin() {
  const win = window.open(
    'https://example.com',                  
    '_blank',                               
    'width=600,height=400,left=200,top=150' 
  );

  if (!win) {
    alert('Popup blocked! Please allow popups for this site.');
    return;
  }

  setTimeout(function () {
    if (!win.closed) {
      win.close();
    }
  }, 3000);
}
   

</script>


 <!-- 2. Display the browser's user agent string in an alert. -->

<script>
    function showUserAgent() {
      alert(navigator.userAgent);
    }
</script>
<!-- 3. Use `navigator` to detect if the browser is online or offline and log the result. -->
<script>
    console.log(navigator.onLine)
</script>
<!-- 4. Write code to reload the current page after 5 seconds. -->
<!-- <script>
    setTimeout(function () {
        location.reload();
    }, 5000);
</script> -->
<!-- 6. Use `history` to go back one page, then forward one page (write the code, don't actually run it). -->
 <!-- <script>
    history.back()
    history.forward()
</script> -->

<!-- 7. Show the screen width and height in a div -change the div content- on the page. -->
<script>
    var div = document.body.children[2];
    div.textContent = "Screen width: " + screen.width + "px, height: " + screen.height + "px";
</script>
<!-- 8. Use `setTimeout` to change the content of a hyperlink -a- with a new content after 2 seconds, and provide a button to cancel it. -->
 <script>
    var link = document.body.children[3]
    var cancelBtn = document.body.children[4]
    var timer = setTimeout(() => {
      link.textContent = "Visit facebook";
      link.href = "https://facebook.com";
    }, 2000);
     cancelBtn.onclick = function () {
      clearTimeout(timer);
      console.log("timer canceled")
    };
</script>
<!-- 9. Use `setInterval` to update the time  on the page title every second, and a button to stop it. -->
<script>
     var count = 1;
    var stopBtn = document.body.children[5];
    var timer = setInterval(() => {
      document.title = "Title " + count;
      count++;
    }, 1000);

    stopBtn.onclick = function () {
      clearInterval(timer);
      console.log("Title updates stopped");
    };    
</script>


<!-- // 10. Show a confirm dialog asking "Do you want to continue?" and log the user's choice("user said yes", "user said no"). -->
<script>
    function askConfirm() {
      var ask = confirm("Do you want to continue?");
      if (ask) {
        console.log("user said yes");
      } else {
        console.log("user said no");
      }
    }
</script>

<!-- 11. Select the first `<ul>` in the document and log its `childNodes` and `children` properties. Explain the difference in a comment. -->
    <script>
        var ul = document.body.children[7]
        console.log(ul.children)
        console.log(ul.childNodes)
// - childNodes: returns ALL child nodes 
// - children: returns ONLY element nodes 

    </script>

<!-- 12. Write a function that logs the tag names of all direct child elements of `<body>`. -->
<script>
    const children = document.body.children;

      for (let i = 0; i < children.length; i++) {
        console.log(children[i].tagName);
      }
    
</script>

<!-- 13. Given a parent element, loop through its `childNodes` and log only the nodes that are elements (not text/comments). -->
 <script>
    var ul = document.body.children[7]
    var nodes = ul.childNodes;

    for (let i = 0; i < nodes.length; i++) {
      if (nodes[i].nodeType === 1) {
        console.log(nodes[i].tagName);
      }
    }
 </script>
<!-- 14. Use `firstChild` and `firstElementChild` on a container and explain the difference in a comment. -->
<script>
    var container = document.body.children[8];
    console.log("firstChild:", container.firstChild); 
    console.log("firstElementChild:", container.firstElementChild); 
    // firstChild : returns the first node of any type inside the element                 
    // firstElementChild : returns only the first element node.
</script>

<!-- 15. Write code to get all `<li>` elements inside a `<ul>` using `children` and explain the difference. -->
<script>
    var ul = document.body.children[7];
    var ulchilds = ul.children;
for (let i = 0; i < ulchilds.length; i++) {
      console.log(ulchilds[i].tagName, ":", ulchilds[i].textContent);
    }

    /*
      - ul.children : gives only element nodes
      - ul.childNodes : gives all child nodes including text nodes                    
    */
</script>

<!-- 17. Write a function that logs all sibling elements of a given element (excluding itself). -->
<script>
function logSiblings(element) {
      var parent = element.parentElement;
      var children = parent.children;

      for (let i = 0; i < children.length; i++) {
        if (children[i] !== element) {
          console.log(children[i].tagName, ":", children[i].textContent);
        }
      }
    }
    var container = document.body.children[8];
    logSiblings(container);

</script>
<!-- 18. Use `nextSibling` and `nextElementSibling` to traverse from the first child to the last child of a `<ul>`, logging each node. -->
<script>
var ul = document.body.children[7];
    var node = ul.firstChild;
    console.log("Using nextSibling:");
    while (node) {
      console.log(node); 
      node = node.nextSibling;
    }
    
    var elem = ul.firstElementChild;
    console.log("Using nextElementSibling:");
    while (elem) {
      console.log(elem);
      elem = elem.nextElementSibling;
    }
</script>
<!-- 19. Count how many element children a given node has (not using `children.length`). -->
<script>
    var ul = document.body.children[7];

      var count = 0;
      for (let i = 0; i < ul.childNodes.length; i++) {
        if (ul.childNodes[i].nodeType === 1) { 
          count++;
        }
      }
     
    

    console.log(count);
</script>

<!-- 20. Write a function that takes the first form element and logs the names and values of all its input fields using the `elements` collection. -->
<script>
function logFormInputs() {
      var form = document.forms[0];  
      for (let i = 0; i < form.elements.length; i++) {
        var field = form.elements[i];
        if (field.name) {
          console.log(`Name: ${field.name}, Value: ${field.value}`);
        }
      }
    }

    logFormInputs();

</script>
<!-- 21. Access all forms in the document using `document.forms` and log their names -->
<script>
for (var i = 0; i < document.forms.length; i++) {
      console.log("Form name:", document.forms[i].name);
    }
</script>

<!-- 22. Access all images in the document using `document.images` and log their `src` attributes. -->
<script>
    for (let i = 0; i < document.images.length; i++) {
      console.log("Image src:", document.images[i].src);
    }
</script>
<!-- 23. Write a function that takes a form and disables all its input fields using the `elements` collection. -->
<script>
function disableAllFormInputs() {
      var form = document.forms[0];  
      for (let i = 0; i < form.elements.length; i++) {
        var field = form.elements[i];
        field.disabled = true;      }
    }

    disableAllFormInputs();
</script>
<!-- 24. Use `Array.from` to convert `document.images` to an array and filter images with width > 100px. -->
<script>
   var imagesArray = Array.from(document.images); 
   var largeImages = imagesArray.filter(img => img.width > 100); 

for (var i = 0; i < largeImages.length; i++) {
    console.log(largeImages[i].src + " " + largeImages[i].width);
}
</script>
</body>
</html>